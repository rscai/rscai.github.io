<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8" />
  <!-- multi-device width -->
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <!-- site description -->
  
  <meta content="Problem" name="description" />
  <!-- referer for 3rd-part images-->
  <meta content="no-referrer" name="referrer" />
  <!-- title -->
  <title>
    
    A List of Prime Numbers
    
  </title>
  <!-- icon -->
  <link href="https://rscai.github.io/assets/img/favicon.ico?" rel="shortcut icon bookmark" type="image/x-icon" />
  <!-- main stylesheet -->
  <link rel="stylesheet" href="https://rscai.github.io/assets/css/main.css" type="text/css" />
  <!-- fa 5.9.0 -->
  <link rel="stylesheet" href="https://rscai.github.io/assets/css/fa.min.css" type="text/css" />
  <!-- rouge theme-->
  <link rel="stylesheet" href="https://rscai.github.io/assets/css/rouge-bg.css" />
  <!-- mathjax 2.7.5 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
  </head>
  <body class="page">
    <!-- disable background animations -->

    <div class="container" id="ctner">
      <div class="header">
    <nav class="nav_bar">
        <ul>
            <!-- left header -->
            <li
                class="li_left">
                <!-- home -->
                
                    <a class="header_btn" href="https://rscai.github.io">
                        <i class="fa fa-home">
                            
                                <p class="btn_text">Home</p>
                            
                        </i>
                    </a>
                
                <!-- email -->
                
                    <a class="header_btn" href="mailto://">
                        <i class="fa fa-envelope-square">
                            
                                <p class="btn_text">Email</p>
                            
                        </i>
                    </a>
                
                <!-- github -->
                
                    <a class="header_btn" href="https://github.com/">
                        <i class="fa fa-github">
                            
                                <p class="btn_text">Github</p>
                            
                        </i>
                    </a>
                
                <!-- maximize -->
                
                    <a class="header_btn" id="mxmz_btn" onclick="toggle_maximize()">
                        <i class="fa fa-window-maximize">
                            
                                <p class="btn_text" id="mxmz_text">Maximize</p>
                            
                        </i>
                    </a>
                
                <!-- access token -->
                
            </li>
            <!-- right header -->
            <span
                class="span_right">
                <!-- popup table of content -->
                
                    <a class="header_btn" onclick="scroll_percentage(-0.88)">
                        <i class="fa fa-backward">
                            
                                <p class="btn_text">Prev</p>
                            
                        </i>
                    </a>
                    <!-- scroll down -->
                    <a class="header_btn" onclick="scroll_percentage(0.88)">
                        <i class="fa fa-forward">
                            
                                <p class="btn_text">Next</p>
                            
                        </i>
                    </a>
                    <!-- popup table of content -->
                    <a class="header_btn popup_btn" onclick="toggle_toc()">
                        <i class="fa fa-bars">
                            
                                <p class="btn_text">Content</p>
                            
                        </i>
                    </a>
                
            </span>
        </ul>
    </nav>
    <hr/>
</div>
<!-- table of content -->

    <div class="div_toc toc" id="popup_toc">
    
    <!-- generate toc -->
    <ul id="ul_toc" class="ul_toc">
  <li><a href="#problem">Problem</a></li>
  <li><a href="#test">Test</a></li>
  <li><a href="#resolution">Resolution</a></li>
  <li><a href="#iterator">Iterator</a></li>
  <li><a href="#generator">Generator</a></li>
  <li><a href="#yield-expressions">Yield expressions</a></li>
</ul>
    </div>
    <!-- toggle toc -->
    <script>
    function toggle_toc() {
        var popup = document.getElementById("popup_toc");
        popup.classList.toggle("show");
    }
    </script>
    <!-- scroll page -->
        <script>
    function scroll_percentage(mtpler) {
        document
        .getElementById("div_atcl")
        .scrollBy(0, window.innerHeight * mtpler);
    }
    </script>

<!-- toggle maximize -->

<script>
  var ctner_state = 0;
  var ctner = document.getElementById("ctner");
  function toggle_maximize() {
    if (ctner_state == 0) {
      ctner.style.width = "100%";
      ctner.style.height = "100%";
      ctner.style.top = "0";
      ctner.style.maxWidth = "100%";
      if (document.getElementById("mxmz_text")) {
        document.getElementById("mxmz_text").innerHTML = "Restore";
      }
      ctner_state = 1;
    } else if (ctner_state == 1) {
      ctner.style.width = "84%";
      ctner.style.height = "97%";
      ctner.style.top = "2%";
      ctner.style.maxWidth = "1240px";
      if (document.getElementById("mxmz_text")) {
        document.getElementById("mxmz_text").innerHTML = "Maximize";
      }
      ctner_state = 0;
    }
  }
</script>

<!-- encrypt and decrypt -->


      <div class="div_article" id="div_atcl">       
        <article id="main_atcl" itemscope itemtype="http://schema.org/BlogPosting">
          <h1>
  A List of Prime Numbers
</h1>
<div class="post_info">
  <!-- author -->
  
  <!-- date -->
  
  <span>
    <i class="fa fa-calendar"></i>
    Oct 13, 2019
  </span>
  
  <!-- category -->
  
  <span>
    <i class="fa fa-archive"></i>
    python99
  </span>
  
</div>
<!-- abstract -->
<div class="abstract">
  
</div>

<div class="sect1">
<h2 id="problem">Problem</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
Given a range of integers by its lower and upper limit, construct a list of all prime numbers in that range.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="test">Test</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="kn">from</span> <span class="nn">python99.arithmetic.p204</span> <span class="kn">import</span> <span class="n">prime</span>

<span class="k">def</span> <span class="nf">test_prime</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">prime</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
    <span class="k">assert</span> <span class="n">prime</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">19</span><span class="p">]</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="resolution">Resolution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="c1"># A list of prime numbers
# Given a range of integers by its lower and upper limit, construct a list of all prime numbers in that range
</span><span class="kn">from</span> <span class="nn">python99.arithmetic.p201</span> <span class="kn">import</span> <span class="n">is_prime</span>

<span class="k">def</span> <span class="nf">prime</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">prime_generator</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">)]</span>

<span class="k">def</span> <span class="nf">prime_generator</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_prime</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">num</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="iterator">Iterator</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>An iterable object is an object that implements <em>iter</em>, which is expected to return an iterator object.</p>
</div>
<div class="paragraph">
<p>An iterator is an object that implements next, which is expected to return the next element of the iterable object that returned it, and raise a StopIteration exception when no more elements are available.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; https://wiki.python.org/moin/Iterator
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generator">Generator</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
Generator functions allow you to declare a function that behaves like an iterator, i.e. it can be used in a for loop.
</blockquote>
<div class="attribution">
&#8212; https://wiki.python.org/moin/Generators
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/assets/generated_diagrams/diag-b3eaf32be42b4bf96ca9c9cb64e0d07b.png" alt="Diagram" width="149" height="333">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="yield-expressions">Yield expressions</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
The yield expression is used when defining a generator function or an asynchronous generator function and thus can only be used in the body of a function definition. Using a yield expression in a function’s body causes that function to be a generator, and using it in an async def function’s body causes that coroutine function to be an asynchronous generator.
</blockquote>
<div class="attribution">
&#8212; https://docs.python.org/3.7/reference/expressions.html#yieldexpr
</div>
</div>
<div class="paragraph">
<p>Here it converts function <code>prime_generator</code> to a <strong>generator</strong> by <code>yield expression</code>. The difference between <strong>Generator</strong> and <strong>List</strong> and other <strong>Sequence</strong> is: elements of generator is created when accessed; but elements of List is created when defined.</p>
</div>
<div class="paragraph">
<p>Take below code as an example, <code>prime_list</code> returns when found all prime numbers frim range. It found that, it firstly executed all code of <code>prime_list</code> (Check 1, Check 2, &#8230;&#8203;, Check 10), then executed <code>for x in prime_list(1, 10)</code> loop (Iterate 2, Iterate 3, &#8230;&#8203;, Iterate 7).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="kn">from</span> <span class="nn">python99.arithmetic.p201</span> <span class="kn">import</span> <span class="n">is_prime</span>

<span class="k">def</span> <span class="nf">prime_list</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Check "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">is_prime</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"Found prime "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
            <span class="n">result</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">prime_list</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Iterate "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Console output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Check 2
Found prime 2
Check 3
Found prime 3
Check 4
Check 5
Found prime 5
Check 6
Check 7
Found prime 7
Check 8
Check 9
Check 10
Iterate 2
Iterate 3
Iterate 5
Iterate 7</pre>
</div>
</div>
<div class="paragraph">
<p>Now check below code, <code>prime_generator</code> return result by <code>yield</code>, it makes <code>primge_genrator</code> as a generator. It found that, <code>prime_generator</code> does not create all elements before <code>for x in prime_generator(2, 10)</code>. Instead, create element when access by outer (call <code>next()</code>). For example, when outer accesses first element, it check numbers one by one, return first found prime number.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="kn">from</span> <span class="nn">python99.arithmetic.p201</span> <span class="kn">import</span> <span class="n">is_prime</span>

<span class="k">def</span> <span class="nf">prime_generator</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Check "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">is_prime</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"Found prime "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
            <span class="k">yield</span> <span class="n">num</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">prime_generator</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Iterate "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Console output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Check 2
Found prime 2
Iterate 2
Check 3
Found prime 3
Iterate 3
Check 4
Check 5
Found prime 5
Iterate 5
Check 6
Check 7
Found prime 7
Iterate 7
Check 8
Check 9
Check 10</pre>
</div>
</div>
<div class="paragraph">
<p>In case of only requesting one resolution, using generator could eliminate unnecessary effort.</p>
</div>
</div>
</div>

          

        </article>
          
      </div>
    </div>
  </body>
</html>
