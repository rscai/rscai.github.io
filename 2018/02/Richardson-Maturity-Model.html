<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8" />
  <!-- multi-device width -->
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <!-- site description -->
  
  <meta content="Richardson Maturity Model" name="description" />
  <!-- referer for 3rd-part images-->
  <meta content="no-referrer" name="referrer" />
  <!-- title -->
  <title>
    
    Richardson Maturity Model
    
  </title>
  <!-- icon -->
  <link href="https://rscai.github.io/assets/img/favicon.ico?" rel="shortcut icon bookmark" type="image/x-icon" />
  <!-- main stylesheet -->
  <link rel="stylesheet" href="https://rscai.github.io/assets/css/main.css" type="text/css" />
  <!-- fa 5.9.0 -->
  <link rel="stylesheet" href="https://rscai.github.io/assets/css/fa.min.css" type="text/css" />
  <!-- rouge theme-->
  <link rel="stylesheet" href="https://rscai.github.io/assets/css/rouge-bg.css" />
  <!-- mathjax 2.7.5 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
  </head>
  <body class="page">
    <!-- disable background animations -->

    <div class="container" id="ctner">
      <div class="header">
    <nav class="nav_bar">
        <ul>
            <!-- left header -->
            <li
                class="li_left">
                <!-- home -->
                
                    <a class="header_btn" href="https://rscai.github.io">
                        <i class="fa fa-home">
                            
                                <p class="btn_text">Home</p>
                            
                        </i>
                    </a>
                
                <!-- email -->
                
                    <a class="header_btn" href="mailto://">
                        <i class="fa fa-envelope-square">
                            
                                <p class="btn_text">Email</p>
                            
                        </i>
                    </a>
                
                <!-- github -->
                
                    <a class="header_btn" href="https://github.com/{
  "api_url": "https://api.github.com",
  "archived": false,
  "baseurl": "/pages/rscai/rscai.github.io",
  "build_revision": "e7eec5f89ed2ba19752267cb2bc5b075660af809",
  "clone_url": "https://github.com/rscai/rscai.github.io.git",
  "contributors": false,
  "disabled": false,
  "environment": "development",
  "help_url": "https://help.github.com",
  "hostname": "github.com",
  "is_project_page": true,
  "is_user_page": false,
  "issues_url": "https://github.com/rscai/rscai.github.io/issues",
  "language": "HTML",
  "latest_release": false,
  "license": null,
  "organization_members": null,
  "owner": {
    "avatar_url": null,
    "bio": null,
    "blog": null,
    "collaborators": null,
    "company": null,
    "created_at": null,
    "description": null,
    "email": null,
    "followers": null,
    "following": null,
    "has_organization_projects": null,
    "has_repository_projects": null,
    "hireable": null,
    "html_url": null,
    "id": null,
    "is_verified": null,
    "location": null,
    "login": null,
    "name": null,
    "node_id": null,
    "public_gists": null,
    "public_repos": null,
    "type": null,
    "updated_at": null
  },
  "owner_gravatar_url": "https://github.com/rscai.png",
  "owner_name": "rscai",
  "owner_url": "https://github.com/rscai",
  "pages_env": "development",
  "pages_hostname": "localhost:4000",
  "private": false,
  "project_tagline": null,
  "project_title": "rscai.github.io",
  "public_repositories": false,
  "releases": [

  ],
  "releases_url": "https://github.com/rscai/rscai.github.io/releases",
  "repository_name": "rscai.github.io",
  "repository_nwo": "rscai/rscai.github.io",
  "repository_url": "https://github.com/rscai/rscai.github.io",
  "show_downloads": true,
  "source": {
    "branch": "gh-pages",
    "path": "/"
  },
  "tar_url": "https://github.com/rscai/rscai.github.io/tarball/gh-pages",
  "url": "https://github.com/pages/rscai/rscai.github.io",
  "versions": {
    "jekyll": "3.8.5",
    "jekyll-sass-converter": "1.5.2",
    "kramdown": "1.17.0",
    "jekyll-commonmark-ghpages": "0.1.6",
    "liquid": "4.0.3",
    "rouge": "3.13.0",
    "github-pages-health-check": "1.16.1",
    "jekyll-redirect-from": "0.15.0",
    "jekyll-sitemap": "1.4.0",
    "jekyll-feed": "0.13.0",
    "jekyll-gist": "1.5.0",
    "jekyll-paginate": "1.1.0",
    "jekyll-coffeescript": "1.1.1",
    "jekyll-seo-tag": "2.6.1",
    "jekyll-github-metadata": "2.13.0",
    "jekyll-avatar": "0.7.0",
    "jekyll-remote-theme": "0.4.1",
    "jemoji": "0.11.1",
    "jekyll-mentions": "1.5.1",
    "jekyll-relative-links": "0.6.1",
    "jekyll-optional-front-matter": "0.3.2",
    "jekyll-readme-index": "0.3.0",
    "jekyll-default-layout": "0.1.4",
    "jekyll-titles-from-headings": "0.5.3",
    "jekyll-swiss": "1.0.0",
    "minima": "2.5.1",
    "jekyll-theme-primer": "0.5.4",
    "jekyll-theme-architect": "0.1.1",
    "jekyll-theme-cayman": "0.1.1",
    "jekyll-theme-dinky": "0.1.1",
    "jekyll-theme-hacker": "0.1.1",
    "jekyll-theme-leap-day": "0.1.1",
    "jekyll-theme-merlot": "0.1.1",
    "jekyll-theme-midnight": "0.1.1",
    "jekyll-theme-minimal": "0.1.1",
    "jekyll-theme-modernist": "0.1.1",
    "jekyll-theme-slate": "0.1.1",
    "jekyll-theme-tactile": "0.1.1",
    "jekyll-theme-time-machine": "0.1.1",
    "ruby": "2.6.3",
    "github-pages": "204",
    "html-pipeline": "2.12.3",
    "sass": "3.7.4",
    "safe_yaml": "1.0.5",
    "nokogiri": "1.10.9"
  },
  "wiki_url": "https://github.com/rscai/rscai.github.io/wiki",
  "zip_url": "https://github.com/rscai/rscai.github.io/zipball/gh-pages"
}">
                        <i class="fa fa-github">
                            
                                <p class="btn_text">Github</p>
                            
                        </i>
                    </a>
                
                <!-- maximize -->
                
                    <a class="header_btn" id="mxmz_btn" onclick="toggle_maximize()">
                        <i class="fa fa-window-maximize">
                            
                                <p class="btn_text" id="mxmz_text">Maximize</p>
                            
                        </i>
                    </a>
                
                <!-- access token -->
                
            </li>
            <!-- right header -->
            <span
                class="span_right">
                <!-- popup table of content -->
                
                    <a class="header_btn" onclick="scroll_percentage(-0.88)">
                        <i class="fa fa-backward">
                            
                                <p class="btn_text">Prev</p>
                            
                        </i>
                    </a>
                    <!-- scroll down -->
                    <a class="header_btn" onclick="scroll_percentage(0.88)">
                        <i class="fa fa-forward">
                            
                                <p class="btn_text">Next</p>
                            
                        </i>
                    </a>
                    <!-- popup table of content -->
                    <a class="header_btn popup_btn" onclick="toggle_toc()">
                        <i class="fa fa-bars">
                            
                                <p class="btn_text">Content</p>
                            
                        </i>
                    </a>
                
            </span>
        </ul>
    </nav>
    <hr/>
</div>
<!-- table of content -->

    <div class="div_toc toc" id="popup_toc">
    
    <!-- generate toc -->
    <ul id="ul_toc" class="ul_toc">
  <li><a href="#richardson-maturity-model">Richardson Maturity Model</a>
    <ul>
      <li><a href="#overview">Overview</a></li>
      <li><a href="#level-0---http">Level 0 - HTTP</a></li>
      <li><a href="#level-1---resources">Level 1 - Resources</a></li>
      <li><a href="#level-2---http-verbs">level 2 - HTTP Verbs</a>
        <ul>
          <li><a href="#create-resource">Create Resource</a></li>
          <li><a href="#update-resource">Update Resource</a></li>
          <li><a href="#delete-resource">Delete Resource</a></li>
          <li><a href="#get-resource">Get Resource</a></li>
          <li><a href="#query-resource">Query Resource</a></li>
          <li><a href="#sub-resource">Sub Resource</a></li>
        </ul>
      </li>
      <li><a href="#level-3--hypermedia-controls">level 3 – Hypermedia Controls</a>
        <ul>
          <li><a href="#create-resource-1">Create Resource</a></li>
        </ul>
      </li>
      <li><a href="#comparison">Comparison</a></li>
      <li><a href="#reference">Reference</a></li>
    </ul>
  </li>
</ul>
    </div>
    <!-- toggle toc -->
    <script>
    function toggle_toc() {
        var popup = document.getElementById("popup_toc");
        popup.classList.toggle("show");
    }
    </script>
    <!-- scroll page -->
        <script>
    function scroll_percentage(mtpler) {
        document
        .getElementById("div_atcl")
        .scrollBy(0, window.innerHeight * mtpler);
    }
    </script>

<!-- toggle maximize -->

<script>
  var ctner_state = 0;
  var ctner = document.getElementById("ctner");
  function toggle_maximize() {
    if (ctner_state == 0) {
      ctner.style.width = "100%";
      ctner.style.height = "100%";
      ctner.style.top = "0";
      ctner.style.maxWidth = "100%";
      if (document.getElementById("mxmz_text")) {
        document.getElementById("mxmz_text").innerHTML = "Restore";
      }
      ctner_state = 1;
    } else if (ctner_state == 1) {
      ctner.style.width = "84%";
      ctner.style.height = "97%";
      ctner.style.top = "2%";
      ctner.style.maxWidth = "1240px";
      if (document.getElementById("mxmz_text")) {
        document.getElementById("mxmz_text").innerHTML = "Maximize";
      }
      ctner_state = 0;
    }
  }
</script>

<!-- encrypt and decrypt -->


      <div class="div_article" id="div_atcl">       
        <article id="main_atcl" itemscope itemtype="http://schema.org/BlogPosting">
          <h1>
  Richardson Maturity Model
</h1>
<div class="post_info">
  <!-- author -->
  
  <span>
    <i class="fa fa-user-secret"></i>
    Ray Cai
  </span>
  
  <!-- date -->
  
  <span>
    <i class="fa fa-calendar"></i>
    Feb 28, 2018
  </span>
  
  <!-- category -->
  
</div>
<!-- abstract -->
<div class="abstract">
  
</div>

<h1 id="richardson-maturity-model">Richardson Maturity Model</h1>

<ul id="markdown-toc">
  <li><a href="#richardson-maturity-model" id="markdown-toc-richardson-maturity-model">Richardson Maturity Model</a>    <ul>
      <li><a href="#overview" id="markdown-toc-overview">Overview</a></li>
      <li><a href="#level-0---http" id="markdown-toc-level-0---http">Level 0 - HTTP</a></li>
      <li><a href="#level-1---resources" id="markdown-toc-level-1---resources">Level 1 - Resources</a></li>
      <li><a href="#level-2---http-verbs" id="markdown-toc-level-2---http-verbs">level 2 - HTTP Verbs</a>        <ul>
          <li><a href="#create-resource" id="markdown-toc-create-resource">Create Resource</a></li>
          <li><a href="#update-resource" id="markdown-toc-update-resource">Update Resource</a></li>
          <li><a href="#delete-resource" id="markdown-toc-delete-resource">Delete Resource</a></li>
          <li><a href="#get-resource" id="markdown-toc-get-resource">Get Resource</a></li>
          <li><a href="#query-resource" id="markdown-toc-query-resource">Query Resource</a></li>
          <li><a href="#sub-resource" id="markdown-toc-sub-resource">Sub Resource</a>            <ul>
              <li><a href="#create-sub-resource" id="markdown-toc-create-sub-resource">Create Sub Resource</a></li>
              <li><a href="#update-sub-resource" id="markdown-toc-update-sub-resource">Update Sub Resource</a></li>
              <li><a href="#delete-sub-resource" id="markdown-toc-delete-sub-resource">Delete Sub Resource</a></li>
              <li><a href="#get-sub-resource" id="markdown-toc-get-sub-resource">Get Sub Resource</a></li>
              <li><a href="#query-sub-resource" id="markdown-toc-query-sub-resource">Query Sub Resource</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#level-3--hypermedia-controls" id="markdown-toc-level-3--hypermedia-controls">level 3 – Hypermedia Controls</a>        <ul>
          <li><a href="#create-resource-1" id="markdown-toc-create-resource-1">Create Resource</a>            <ul>
              <li><a href="#create-resource-node" id="markdown-toc-create-resource-node">Create resource node</a></li>
              <li><a href="#link-to-other-resource" id="markdown-toc-link-to-other-resource">Link to other resource</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#comparison" id="markdown-toc-comparison">Comparison</a></li>
      <li><a href="#reference" id="markdown-toc-reference">Reference</a></li>
    </ul>
  </li>
</ul>

<h2 id="overview">Overview</h2>

<h2 id="level-0---http">Level 0 - HTTP</h2>

<p>On level 0 API, it is using HTTP as a transport system for remote interaction, but without using any of the mechanism of web. It is not using the HTTP verbs or status code.<br />
A level 0 API usually include below features:</p>

<ol>
  <li>Use one or a few URL endpoint to receive all request</li>
  <li>Send all request by one HTTP method, mostly POST</li>
  <li>Always response HTTP status 200 regardless of sucess or fail</li>
  <li>Contain verbs, likes action or command code, in request body</li>
  <li>Contain status in response body, likes SUCESS, FAIL, etc.</li>
  <li>The structures of request body and response body are action/command specific</li>
</ol>

<p>For example, here is a set of API of blogging service. It should handle two domain models <code class="language-plaintext highlighter-rouge">Post</code> and <code class="language-plaintext highlighter-rouge">Comment</code>. And it should support operations:</p>

<ol>
  <li>Create <code class="language-plaintext highlighter-rouge">Post</code></li>
  <li>Create <code class="language-plaintext highlighter-rouge">Comment</code>, each <code class="language-plaintext highlighter-rouge">Comment</code> must belong to some <code class="language-plaintext highlighter-rouge">Post</code>, and newed <code class="language-plaintext highlighter-rouge">Comment</code> stays at state <code class="language-plaintext highlighter-rouge">SUBMITTED</code></li>
  <li>Accept <code class="language-plaintext highlighter-rouge">Comment</code>, it only works when <code class="language-plaintext highlighter-rouge">Comment</code> stays at state <code class="language-plaintext highlighter-rouge">SUBMITTED</code>, and it transits to state <code class="language-plaintext highlighter-rouge">ACCEPTED</code> after accepted</li>
  <li>Reject <code class="language-plaintext highlighter-rouge">Comment</code>, it only works when <code class="language-plaintext highlighter-rouge">Comment</code> stays at state <code class="language-plaintext highlighter-rouge">SUBMITTED</code>, and it transits to state <code class="language-plaintext highlighter-rouge">REJECTED</code> after rejected</li>
  <li>Delete <code class="language-plaintext highlighter-rouge">Comment</code>, it is able to remove <code class="language-plaintext highlighter-rouge">Comment</code> in any state</li>
  <li>Delete <code class="language-plaintext highlighter-rouge">Post</code>, it will delete all related <code class="language-plaintext highlighter-rouge">Comment</code></li>
</ol>

<p>On level 0 API desgin, it exposes one URL endpoint to receive all request, and only uses HTTP method <strong>POST</strong>.</p>

<p>Because it uses one URL endpoint to receive all request, it is not able to determine operation type by URL or HTTP method. Therefore it has to provide operation, action or command code in request body. And per business requirement, the parameters are different among operation/action/command. Considering of code simplification, it usually defines a generic structure to contain various parameters, likes type-free key-value list.</p>

<p><strong>Request Payload:</strong></p>

<table>
  <thead>
    <tr>
      <th>Path</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>command</td>
      <td>String</td>
      <td>must be ‘createPost’</td>
    </tr>
    <tr>
      <td>parameters.content</td>
      <td>String</td>
      <td>content of post</td>
    </tr>
  </tbody>
</table>

<p><strong>Example:</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/api/level0/operation</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">86</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"command"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"createPost"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"parameters"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Test post 123"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>In response, it does not use HTTP status. Therefore it has to provide status code in response body, and wrapper business data in type-free key-value list.</p>

<p><strong>Response Paylaod:</strong></p>

<table>
  <thead>
    <tr>
      <th>Path</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>status</td>
      <td>String</td>
      <td>result status</td>
    </tr>
    <tr>
      <td>message</td>
      <td>String</td>
      <td>error message if failed</td>
    </tr>
    <tr>
      <td>parameters.id</td>
      <td>Long</td>
      <td>post’s id</td>
    </tr>
    <tr>
      <td>parameters.content</td>
      <td>String</td>
      <td>post’s content</td>
    </tr>
    <tr>
      <td>parameters.createdAt</td>
      <td>Date</td>
      <td>timestamp of created post</td>
    </tr>
  </tbody>
</table>

<p><strong>Example:</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">164</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"parameters"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Test post 123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Sun Mar 11 15:43:11 CST 2018"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="level-1---resources">Level 1 - Resources</h2>

<p>The first step towards the Glory of Rest in the RMM is to introduce resources. So now rather than making all our requests to a singular service endpoint, we now start talking to individual resources.</p>

<p>Compared to level 0, level 1 has features:</p>

<ol>
  <li><del>Use one or a few URL endpoint to receive all request</del> <strong>Expose multiple URL endpoints, each one only responds to requests of individual resource</strong></li>
  <li>Send all request by one HTTP method, mostly POST</li>
  <li>Always response HTTP status 200 regardless of sucess or fail</li>
  <li>Contain verbs, likes action or command code, in request body</li>
  <li>Contain status in response body, likes SUCESS, FAIL, etc.</li>
  <li><del>The structures of request body and response body are action/command specific</del> <strong>Each URL endpoint only accept fixed structure request payload and response fixed structure payload</strong></li>
  <li><strong>Define resources which used in many reqeuest/response paylaod</strong></li>
</ol>

<p>Take previous blogging API as example, in level 1 pattern, it should define resources <code class="language-plaintext highlighter-rouge">Post</code> and <code class="language-plaintext highlighter-rouge">Comment</code>.</p>

<p><strong>Post:</strong></p>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Type</th>
      <th>Optional?</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>Long</td>
      <td>N</td>
      <td>unique identifier</td>
    </tr>
    <tr>
      <td>content</td>
      <td>String</td>
      <td>N</td>
      <td>content of post</td>
    </tr>
    <tr>
      <td>createdAt</td>
      <td>Date</td>
      <td>N</td>
      <td>timestamp of created post</td>
    </tr>
  </tbody>
</table>

<p><strong>Example(in JSON):</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Post 123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-11T07:43:11.840+0000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Comment:</strong></p>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Type</th>
      <th>Optional?</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>Long</td>
      <td>N</td>
      <td>unique identifier</td>
    </tr>
    <tr>
      <td>content</td>
      <td>String</td>
      <td>N</td>
      <td>content of comment</td>
    </tr>
    <tr>
      <td>createdAt</td>
      <td>Date</td>
      <td>N</td>
      <td>timestamp of created comment</td>
    </tr>
    <tr>
      <td>postId</td>
      <td>Long</td>
      <td>N</td>
      <td>post’s id</td>
    </tr>
  </tbody>
</table>

<p><strong>Example(in JSON):</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Comment 123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-11T07:43:11.705+0000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"post"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Post 1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-11T07:43:11.524+0000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>It exposes individual URL endpoint for each resource. And because each URL endpoint only accept request of one resource, therefore it is able to add strict constraint on request payload.<br />
Take resource <code class="language-plaintext highlighter-rouge">Post</code> as example, it exposes URL endpoint <code class="language-plaintext highlighter-rouge">/api/level1/post</code> to accept all <code class="language-plaintext highlighter-rouge">Post</code> related request. And define constraint on request payload by using resource <code class="language-plaintext highlighter-rouge">Post</code> definition.</p>

<p><strong>Request Payload:</strong></p>

<table>
  <thead>
    <tr>
      <th>Path</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>command</td>
      <td>String</td>
      <td>must be ‘createPost’</td>
    </tr>
    <tr>
      <td>data</td>
      <td>Post</td>
      <td>post</td>
    </tr>
  </tbody>
</table>

<p><strong>Example:</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/api/level1/post</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">117</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"command"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"create"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Post 123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Correspondingly, the struct of response payload is fixed too.</p>

<p><strong>Response Payload:</strong></p>

<table>
  <thead>
    <tr>
      <th>Path</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>status</td>
      <td>String</td>
      <td>result status</td>
    </tr>
    <tr>
      <td>message</td>
      <td>String</td>
      <td>error message if failed</td>
    </tr>
    <tr>
      <td>data</td>
      <td>Post</td>
      <td>post</td>
    </tr>
  </tbody>
</table>

<p><strong>Example:</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">160</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Post 123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-11T07:43:11.840+0000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="level-2---http-verbs">level 2 - HTTP Verbs</h2>

<p>It uses HTTP POST verbs for interactions in level 0 and 1. At these levels it doesn’t make much difference, they are both being used as tunneling mechanisms allowing you to tunnel your interactions through HTTP. Level 2 moves away from this, using the HTTP verbs as closely as possible to how they are used in HTTP itself.</p>

<p>Compared to level, level 2 has features:</p>

<ol>
  <li>Expose multiple URL endpoints, each one only responds to requests of individual resource</li>
  <li><del>Send all request by one HTTP method, mostly POST</del></li>
  <li><del>Always response HTTP status 200 regardless of sucess or fail</del></li>
  <li><del>Contain verbs, likes action or command code, in request body</del></li>
  <li><del>Contain status in response body, likes SUCESS, FAIL, etc.</del></li>
  <li>Each URL endpoint only accept fixed structure request payload and response fixed structure payload</li>
  <li>Define resources which used in many reqeuest/response paylaod</li>
  <li><strong>Use HTTP Verbs to represent action</strong></li>
  <li><strong>Use HTTP Status to represent result</strong></li>
</ol>

<table>
  <thead>
    <tr>
      <th>Action</th>
      <th>HTTP Verb</th>
      <th>URL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Create</td>
      <td>POST</td>
      <td>/resourceType</td>
    </tr>
    <tr>
      <td>Update</td>
      <td>PUT</td>
      <td>/resourceType/{id}</td>
    </tr>
    <tr>
      <td>Delete</td>
      <td>DELETE</td>
      <td>/resourceType/{id}</td>
    </tr>
    <tr>
      <td>Read</td>
      <td>GET</td>
      <td>/resourceType/{id}</td>
    </tr>
    <tr>
      <td>Query</td>
      <td>GET</td>
      <td>/resourceType?{queryString}</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>HTTP Status</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>200</td>
      <td>OK</td>
    </tr>
    <tr>
      <td>201</td>
      <td>Created</td>
    </tr>
    <tr>
      <td>204</td>
      <td>No Content</td>
    </tr>
    <tr>
      <td>404</td>
      <td>Not Found</td>
    </tr>
    <tr>
      <td>500</td>
      <td>Internal Server Error</td>
    </tr>
  </tbody>
</table>

<h3 id="create-resource">Create Resource</h3>

<p>Example request:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/api/level2/post</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">73</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"New Post content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Example response:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">97</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"New Post content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:08.667+0000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="update-resource">Update Resource</h3>

<p>Example request:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">PUT</span> <span class="nn">/api/level2/post/28</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">79</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated Content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1525089728910</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Example response:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">96</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated Content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:08.910+0000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="delete-resource">Delete Resource</h3>

<p>Request example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">DELETE</span> <span class="nn">/api/level2/post/22</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
</code></pre></div></div>

<p>Response example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">97</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:08.719+0000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="get-resource">Get Resource</h3>

<p>Request example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/api/level2/post/20</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
</code></pre></div></div>

<p>Response example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">97</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:08.626+0000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="query-resource">Query Resource</h3>

<p>Request example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/api/level2/post</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
</code></pre></div></div>

<p>Response example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">497</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:08.845+0000"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:08.856+0000"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:08.862+0000"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:08.866+0000"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:08.873+0000"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<h3 id="sub-resource">Sub Resource</h3>

<table>
  <thead>
    <tr>
      <th>Action</th>
      <th>HTTP Verb</th>
      <th>URL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Create</td>
      <td>POST</td>
      <td>/resourceType/{id}/subResourceType</td>
    </tr>
    <tr>
      <td>Update</td>
      <td>PUT</td>
      <td>/resourceType/{id}/subResourceType/{subResourceId}</td>
    </tr>
    <tr>
      <td>Delete</td>
      <td>DELETE</td>
      <td>/resourceType/{id}/subResourceType/{subResourceId}</td>
    </tr>
    <tr>
      <td>Read</td>
      <td>GET</td>
      <td>/resourceType/{id}/subResourceType/{subResourceTypeId}</td>
    </tr>
    <tr>
      <td>Query</td>
      <td>GET</td>
      <td>/resourceType/{id}/subResourceType?{queryString}</td>
    </tr>
  </tbody>
</table>

<h4 id="create-sub-resource">Create Sub Resource</h4>

<p>Request example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/api/level2/post/6/comment</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">174</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Comment's content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"post"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1525089727497</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Response example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">214</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Comment's content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.578+0000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"post"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.497+0000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="update-sub-resource">Update Sub Resource</h4>

<p>Request example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">PUT</span> <span class="nn">/api/level2/post/18/comment/19</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">180</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1525089728552</span><span class="p">,</span><span class="w">
  </span><span class="nl">"post"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1525089728534</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Response example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">214</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated content"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:08.552+0000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"post"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:08.534+0000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="delete-sub-resource">Delete Sub Resource</h4>

<p>Request example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">DELETE</span> <span class="nn">/api/level2/post/8/comment/9</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
</code></pre></div></div>

<p>Response example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">217</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"New Comment's conent"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.678+0000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"post"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.648+0000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="get-sub-resource">Get Sub Resource</h4>

<p>Request example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/api/level2/post/16/comment/17</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
</code></pre></div></div>

<p>Response example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">219</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"New Comment's conent"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:08.462+0000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"post"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:08.445+0000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="query-sub-resource">Query Sub Resource</h4>

<p>Request example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/api/level2/post/10/comment</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
</code></pre></div></div>

<p>Response example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1107</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"New Comment's conent"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.822+0000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"post"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.785+0000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"New Comment's conent"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.848+0000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"post"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.785+0000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"New Comment's conent"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.872+0000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"post"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.785+0000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"New Comment's conent"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.895+0000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"post"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.785+0000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"New Comment's conent"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.919+0000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"post"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Original Content"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:02:07.785+0000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<h2 id="level-3--hypermedia-controls">level 3 – Hypermedia Controls</h2>

<p>All resources are connected.</p>

<pre><code class="language-puml">digraph d {
  collection_1 [label=collection]
  resource_11 [label=resource]
  resource_12 [label=resource]
  collection_2 [label=collection]
  resource_21 [label=resource]
  resource_22 [label=resource]
  resource_23 [label=resource]

  collection_1 -&gt; resource_11
  collection_1 -&gt; resource_12

  collection_2 -&gt; resource_21
  collection_2 -&gt; resource_22
  collection_2 -&gt; resource_23

  resource_23 -&gt; resource_11
}
</code></pre>

<p>For example:</p>

<pre><code class="language-puml">digraph d {
  post_collection [label=posts]
  post_1 [label="post#1"]
  post_2 [label="post#2"]
  comment_collection [label=comments]
  comment_11 [label="comment#11"]
  comment_12 [label="comment#12"]
  comment_21 [label="comment#21"]

  post_collection -&gt; post_1 [label="/posts/1"]
  post_collection -&gt; post_2 [label="/posts/2"]

  comment_collection -&gt; comment_11 [label="/comments/11"]
  comment_collection -&gt; comment_12 [label="/comments/12"]
  comment_collection -&gt; comment_21 [label="/comments/21"]

  comment_11 -&gt; post_1 [label="/comments/11/post"]
  comment_12 -&gt; post_1 [label="/comments/12/post"]
  comment_21 -&gt; post_2 [label="/comments/21/post"]

  university [style=dotted,label=""]

  university -&gt; post_collection [label="/posts"]
  university -&gt; comment_collection [label="/comments"]

  {rank=same;post_collection,comment_collection}
  {rank=same;post_1,post_2}
  {rank=same;comment_11,comment_12,comment_21}
}
</code></pre>

<h3 id="create-resource-1">Create Resource</h3>

<h4 id="create-resource-node">Create resource node</h4>

<p>Request example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/comments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">66</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"comment 1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Response example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">http://localhost:8080/comments/5af80a6f18151728a745b2ae</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">263</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"comment 1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8080/comments/5af80a6f18151728a745b2ae"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"comment"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8080/comments/5af80a6f18151728a745b2ae"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="link-to-other-resource">Link to other resource</h4>

<p>Request example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/posts/5af80a6f18151728a745b2ad/comments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/uri-list</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8080</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">55</span>

http://localhost:8080/comments/5af80a6f18151728a745b2ae
</code></pre></div></div>

<p>Response example:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>

</code></pre></div></div>

<h2 id="comparison">Comparison</h2>

<table>
  <thead>
    <tr>
      <th>Feature</th>
      <th>Level 0</th>
      <th>Level 1</th>
      <th>Level 2</th>
      <th>Level 3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>HTTP</td>
      <td>✔︎</td>
      <td>✔︎</td>
      <td>✔︎</td>
      <td>✔︎</td>
    </tr>
    <tr>
      <td>Domain Model</td>
      <td> </td>
      <td>✔︎</td>
      <td>✔︎</td>
      <td>✔︎</td>
    </tr>
    <tr>
      <td>HTTP Verbs</td>
      <td> </td>
      <td> </td>
      <td>✔︎</td>
      <td>✔︎</td>
    </tr>
    <tr>
      <td>HTTP Status</td>
      <td> </td>
      <td> </td>
      <td>✔︎</td>
      <td>✔︎</td>
    </tr>
  </tbody>
</table>

<h2 id="reference">Reference</h2>

<ul>
  <li><a href="https://www.martinfowler.com/articles/richardsonMaturityModel.html">Richardson Maturity Model</a></li>
  <li><a href="http://www.enterpriseintegrationpatterns.com/patterns/messaging/EncapsulatedSynchronousIntegration.html">Remote Procedure Invocation</a></li>
  <li><a href="https://tools.ietf.org/rfc/rfc2616.txt">Hypertext Transfer Protocol – HTTP/1.1</a></li>
  <li><a href="https://tools.ietf.org/html/rfc2483#section-5">The text/uri-list Internet Media Type</a></li>
  <li><a href="https://github.com/rscai/richardson-maturity-model-example">Ricahrdson Maturity Model Example</a></li>
</ul>


          

        </article>
          
      </div>
    </div>
  </body>
</html>
